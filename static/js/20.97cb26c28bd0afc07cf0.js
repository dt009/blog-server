(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"3zPb":function(e,t,n){e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=61)}({0:function(e,t){e.exports=function(e,t,n,o,i,s){var a,l=e=e||{},r=typeof e.default;"object"!==r&&"function"!==r||(a=e,l=e.default);var c,d="function"==typeof l?l.options:l;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId=i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=c):o&&(c=o),c){var f=d.functional,u=f?d.render:d.beforeCreate;f?(d._injectStyles=c,d.render=function(e,t){return c.call(t),u(e,t)}):d.beforeCreate=u?[].concat(u,c):[c]}return{esModule:a,exports:l,options:d}}},1:function(e,t){e.exports=n("0BDH")},13:function(e,t){e.exports=n("UShQ")},61:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(62));o.default.install=function(e){e.component(o.default.name,o.default)},t.default=o.default},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),i=n.n(o),s=n(64),a=n(0)(i.a,s.a,!1,null,null,null);t.default=a.exports},63:function(e,t,n){"use strict";t.__esModule=!0;var o=a(n(13)),i=a(n(8)),s=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ElDialog",mixins:[o.default,s.default,i.default],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1}},data:function(){return{closed:!1}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){t.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}}},64:function(e,t,n){"use strict";var o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.handleWrapperClick(t)}}},[n("div",{ref:"dialog",staticClass:"el-dialog",class:[{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style},[n("div",{staticClass:"el-dialog__header"},[e._t("title",[n("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?n("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])},staticRenderFns:[]};t.a=o},8:function(e,t){e.exports=n("K7XR")}})},"7nJ3":function(e,t,n){},EMu8:function(e,t,n){},SWdM:function(e,t,n){},"hZ+x":function(e,t,n){"use strict";var o=n("SWdM");n.n(o).a},miPG:function(e,t,n){"use strict";var o=n("7nJ3");n.n(o).a},p8y5:function(e,t,n){},yx1O:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"website-base-info-manage"},[n("h2",[e._v("站点基本信息管理")]),e._v(" "),n("div",{staticClass:"website-base-info-main"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:e.handleEditInfo}},[e._v("编辑")]),e._v(" "),n("el-dialog",{attrs:{visible:e.isDialogShow,title:"编辑信息"},on:{"update:visible":function(t){e.isDialogShow=t}}},[n("el-form",{ref:"dialogForm",attrs:{model:e.baseInfo,"label-position":"right",size:"mini","status-icon":"","label-width":"100px"}},[n("el-form-item",{attrs:{label:"标题: ",prop:"title"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.title,callback:function(t){e.$set(e.baseInfo,"title",t)},expression:"baseInfo.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"姓名: ",prop:"name"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.name,callback:function(t){e.$set(e.baseInfo,"name",t)},expression:"baseInfo.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"关键字: ",prop:"keyword"}},[e._l(e.baseInfo.keyword,function(t,o){return n("el-input",{key:o,staticStyle:{width:"30%","margin-top":"10px","margin-right":"10px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.keyword[o],callback:function(t){e.$set(e.baseInfo.keyword,o,t)},expression:"baseInfo.keyword[index]"}},[1!==e.baseInfo.keyword.length?n("i",{staticClass:"el-icon-delete",staticStyle:{color:"#409eff",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.handleDeleteKeyword(o)}},slot:"suffix"}):e._e()])}),e._v(" "),n("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"small"},on:{click:function(t){e.handleAddKeyword()}}})],2),e._v(" "),e._l(e.baseInfo.contactList,function(t,o){return n("el-form-item",{key:o,attrs:{label:"联系方式"+(o+1)+": "}},[n("el-form",{ref:"contactForm",refInFor:!0,attrs:{model:e.baseInfo.contactList[o],"label-position":"right","label-width":"50px",size:"mini"}},[n("el-form-item",[1!==e.baseInfo.contactList.length?n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){e.handleDeleteContactList(o)}}},[e._v("删除")]):e._e()],1),e._v(" "),n("el-form-item",{attrs:{label:"icon: ",prop:"icon"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.contactList[o].icon,callback:function(t){e.$set(e.baseInfo.contactList[o],"icon",t)},expression:"baseInfo.contactList[index].icon"}}),e._v(" "),n("span",{staticStyle:{color:"#409eff"}},[e._v("预览: "),n("span",{staticClass:"font",staticStyle:{"font-size":"18px"},domProps:{innerHTML:e._s(e.baseInfo.contactList[o].icon)}})])],1),e._v(" "),n("el-form-item",{attrs:{label:"name: ",prop:"linkName"}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.contactList[o].name,callback:function(t){e.$set(e.baseInfo.contactList[o],"name",t)},expression:"baseInfo.contactList[index].name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"link: "}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.contactList[o].link,callback:function(t){e.$set(e.baseInfo.contactList[o],"link",t)},expression:"baseInfo.contactList[index].link"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"img: "}},[n("el-input",{staticStyle:{width:"300px"},attrs:{"auto-complete":"off"},model:{value:e.baseInfo.contactList[o].img,callback:function(t){e.$set(e.baseInfo.contactList[o],"img",t)},expression:"baseInfo.contactList[index].img"}})],1)],1),e._v(" "),o===e.baseInfo.contactList.length-1?n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleAddContactList}},[e._v("新增联系方式")]):e._e()],1)}),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"info",size:"medium"},on:{click:e.handleCloseDialog}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{size:"medium",type:"primary",loading:e.isUpdateLoading},on:{click:e.handleUpdateInfo}},[e._v("确认")])],1)],2)],1),e._v(" "),n("div",{staticClass:"show-info"},[n("el-form",{attrs:{"label-position":"right",inline:"","label-width":"100px",model:e.baseInfo}},[n("el-form-item",{attrs:{label:"站点标题: "}},[n("span",[e._v(e._s(e.websiteInfo.title))])]),e._v(" "),n("el-form-item",{attrs:{label:"作者姓名: "}},[n("span",[e._v(e._s(e.websiteInfo.name))])]),e._v(" "),n("el-form-item",{attrs:{label:"关键字: "}},e._l(e.websiteInfo.keyword,function(t,o){return n("p",{key:o},[e._v(" "+e._s(t))])})),e._v(" "),n("el-form-item",{attrs:{label:"联系方式: "}},e._l(e.websiteInfo.contactList,function(t,o){return n("div",{key:o,staticClass:"link-us"},[t.img&&!t.link?n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[n("img",{staticStyle:{width:"170px"},attrs:{src:t.img,alt:"item.name"}}),e._v(" "),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("span",{staticClass:"font",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "),n("span",[e._v(e._s(t.name))])])]):e._e(),e._v(" "),t.link?n("a",{attrs:{href:t.link}},[n("span",{staticClass:"font",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "),n("span",[e._v(e._s(t.name))])]):e._e(),e._v(" "),t.img||t.link?e._e():n("div",[n("span",{staticClass:"font",domProps:{innerHTML:e._s(t.icon)}}),e._v(" "),n("span",[e._v(e._s(t.name))])])],1)}))],1)],1)],1)])};o._withStripped=!0;n("D7fx"),n("RQ3N");var i=n("9SnE"),s=n.n(i),a=n("gDS+"),l=n.n(a),r=(n("BvH3"),n("asm4")),c=n.n(r),d=(n("EMu8"),n("8606")),f=n.n(d),u=(n("7Kd7"),n("N4fY")),p=n.n(u),h=(n("Ql/2"),n("QQVE")),m=n.n(h),b=(n("p8y5"),n("3zPb")),_=n.n(b),v=(n("GVEf"),n("7t/g")),g=n.n(v),y=n("Kw5r"),w=n("h8tt"),I=n("tOnh");y.default.use(g.a),y.default.use(_.a),y.default.use(m.a),y.default.use(p.a),y.default.use(f.a),y.default.use(c.a);var C={name:"WebsiteBaseInfoManagePage",computed:{websiteInfo:function(){return this.$store.state.websiteInfo}},data:function(){return{baseInfo:{},isDialogShow:!1,isUpdateLoading:!1}},methods:{handleEditInfo:function(){this.baseInfo=JSON.parse(l()(this.websiteInfo)),this.isDialogShow=!0},handleDeleteKeyword:function(e){this.baseInfo.keyword.splice(e,1)},handleAddKeyword:function(){this.baseInfo.keyword.push("关键词"+(this.baseInfo.keyword.length+1))},handleDeleteContactList:function(e){this.baseInfo.contactList.splice(e,1)},handleAddContactList:function(){this.baseInfo.contactList.push({icon:"",name:"",link:"",img:""})},handleCloseDialog:function(){this.isDialogShow=!1},handleUpdateInfo:function(){var e=this;this.isUpdateLoading=!0,I.a.post(w.a.updateWebsiteInfoUrl,this.baseInfo).then(function(t){var n=t.status,o=t.message,i=t.data;"ok"===n?(s.a.success(o),e.$store.dispatch("getWebsiteInfo",i.userId),e.handleCloseDialog()):s.a.error(o),e.isUpdateLoading=!1}),console.log(this.baseInfo)}}},k=(n("miPG"),n("hZ+x"),n("KHd+")),x=Object(k.a)(C,o,[],!1,null,"f7c3031c",null);x.options.__file="src/component/WebsiteBaseInfoManagePage/WebsiteBaseInfoManagePage.vue";t.default=x.exports}}]);